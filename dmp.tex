\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[czech]{babel}
\usepackage[T1]{fontenc}

% radkovani 1,5, ale ne u footnotes; TODO ne u literatury
% baselinestretch 1.3 je radkovani 1,5
% https://theses.cz/id/say3ul/BP.pdf
% http://mirrors.nic.cz/tex-archive/info/czech/latex-pro-pragmatiky/latex-pro-pragmatiky.pdf
%\renewcommand{\baselinestretch}{1.3}
% To by bylo i v caption apod.
% https://texfaq.org/FAQ-linespace
\usepackage{setspace}
\onehalfspacing

%\usepackage[a4paper]{geometry}
% TODO predepsane okraje
\usepackage[
    a4paper,
    left=40mm,
    right=15mm,
    top=25mm,
    bottom=30mm,
    %showframe,
    % includefoot ??
]{geometry}
\usepackage{array}
%\usepackage{multirow}
\usepackage{siunitx}
\usepackage{graphicx}
\usepackage{booktabs}
%\usepackage{calc} % e.g. for calculations in desky-predni
%\usepackage{refcount} % calculations with references (Lastpage in desky-predni)
%\usepackage{makecell} % for multiline cells in desky-predni
%\usepackage{lastpage}
\usepackage{fancyhdr}
\usepackage{titling}
%\usepackage{tabularx}
%\usepackage{colortbl}
%\usepackage{hhline}
\usepackage{float}
\usepackage{csquotes}
\usepackage[backend=biber,style=iso-numeric]{biblatex}
\addbibresource{reference.bib}
\usepackage[czech]{varioref}
\usepackage[unicode,hidelinks]{hyperref}
\usepackage{pdflscape}
\usepackage{amsmath}
%\usepackage{wrapfig}
\usepackage{caption}
%\usepackage{subcaption}
%\usepackage{catchfile}
\usepackage{placeins} % provides \FloatBarrier
\usepackage[EFvoltages,siunitx,european, american inductors]{circuitikz}

\usepackage{enumitem}
\usepackage{listings}
\usepackage[htt]{hyphenat}  % hyphenate \texttt

%\usepackage{arydshln} % dashed lines in tabular; should be one of the last packages (http://texdoc.net/texmf-dist/doc/latex/arydshln/arydshln-man.pdf)

\graphicspath{{sim/}} % gnuplot EPS stuff


% TODO patching babel failed
\makeatletter
\newcommand\my@hyphen{-}
\patchcmd\select@language{-}{\my@hyphen }{}{\fail}
\makeatother


% http://www.gnuplotting.org/labels-with-white-background-in-latex-terminals/
\newcommand{\hl}[1]{\setlength{\fboxsep}{0.75pt}\colorbox{white}{#1}}

\newcommand{\shellcmd}{\texttt}
\newcommand{\HAentity}[1]{\texttt{\detokenize{#1}}}  % detokenize makes underscores printable
\newcommand{\HAstate}{\texttt}
\newcommand{\topic}{\texttt}
\newcommand{\gitrepo}{\texttt}
\newcommand{\repopath}[1]{\texttt{\detokenize{#1}}}
\newcommand{\filename}{\texttt}

\title{Chytrý budík}
\author{Ondřej Sluka}
\date{2021}  % DOPLN

\frenchspacing
\sisetup{
    output-decimal-marker = {,},
    list-separator = {; },
    list-final-separator = { a~},
    list-pair-separator = { a~},
    group-digits,
    group-minimum-digits=4,
    range-phrase=\text{--},
    range-units=single,
    exponent-product=\ensuremath{\cdot}
}

% https://tex.stackexchange.com/questions/30512/how-to-insert-code-with-accents-with-listings
\lstset{
  columns=flexible,
  frame=single,
  breaklines=true,
  postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
  %numbers=left,
  % kvuli cislum radku, viz showframe geometry
  xleftmargin=2em,
  %framexleftmargin=1.5em,  % cisla radku uvnitr ramecku, vypada hnusne
  literate=%
    {á}{{\'a}}1
    {í}{{\'i}}1
    {é}{{\'e}}1
    {ý}{{\'y}}1
    {ú}{{\'u}}1
    {ó}{{\'o}}1
    {ě}{{\v{e}}}1
    {š}{{\v{s}}}1
    {č}{{\v{c}}}1
    {ř}{{\v{r}}}1
    {ž}{{\v{z}}}1
    {ď}{{\v{d}}}1
    {ť}{{\v{t}}}1
    {ň}{{\v{n}}}1
    {ů}{{\r{u}}}1
    {Á}{{\'A}}1
    {Í}{{\'I}}1
    {É}{{\'E}}1
    {Ý}{{\'Y}}1
    {Ú}{{\'U}}1
    {Ó}{{\'O}}1
    {Ě}{{\v{E}}}1
    {Š}{{\v{S}}}1
    {Č}{{\v{C}}}1
    {Ř}{{\v{R}}}1
    {Ž}{{\v{Z}}}1
    {Ď}{{\v{D}}}1
    {Ť}{{\v{T}}}1
    {Ň}{{\v{N}}}1
    {Ů}{{\r{U}}}1
}
  %literate={█}{{\#}}1

% headers and footers
\setlength{\headheight}{14pt} % prevents a warning most likely caused by diacritics
\pagestyle{fancy}
%\renewcommand{\headrulewidth}{0pt}
\fancyhf{} % clears header and footer, otherwise "plain" will appear
%\fancyhead{} % only clears the header
\lhead{\theauthor}
\rhead{\thepage}
\fancyhfoffset{0pt} % fixes width after \newgeometry

% Roztrhana matika
\allowdisplaybreaks

\begin{document}

\maketitle  % TODO

\tableofcontents

% TODO \section should start on \clearpage

\input{uvod}
\clearpage
\section{Hardware a firmware} % TODO
\input{MCU}
\input{platformio}
%\input{TODO ambient}
\input{GUI}
\input{zvuk}  % TODO POZOR, obsahuje i firmware
\clearpage
\section{Software}  % TODO
\input{MQTTping}

% Reference a odkazy
\printbibliography[title={Odkazy a~literatura}]  % TODO poznamky a odkazy ??
% TODO abecedni razeni seznamu literatury


\section*{Seznam zkratek}
\begin{itemize}
    \item LED -- light-emitting diode -- elektroluminiscenční dioda
    \item MCU -- microcontroller unit -- jednočipový počítač, mikrokontrolér
    \item LUT -- lookup table -- vyhledávací tabulka
    \item ISR -- interrupt service routine -- obsluha přerušení
    \item CLI -- command line interface -- příkazový řádek
    \item SRAM -- static random access memory -- statická polovodičová pamět
          s~přímým přístupem
    \item EEPROM -- electrically erasable programmable read-only memory~--
          elektricky vymazatelná paměť pouze pro čtení
    \item LSB -- least significant bit -- nejméně významný bit
    \item MSB -- most significant bit -- nejvýznamnější bit
    \item SDK -- software development kit
    \item IDE -- integrated development environment -- vývojové prostředí
\end{itemize}

\end{document}
